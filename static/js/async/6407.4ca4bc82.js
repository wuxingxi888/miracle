"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["6407"],{649:function(s,n,a){a.r(n),a.d(n,{default:function(){return p}});var l=a(1147);let e=["innerHTML"],p={setup:()=>({html:""}),render:()=>((0,l.wg)(),(0,l.iD)("div",{class:"mi-doc-markdown-body",innerHTML:'<h1>快速上手</h1>\n<div class="mi-doc-card"><h3 id="jie-shao" tabindex="-1">介绍</h3>\n<p>通过本章节你可以了解到 Miracle 的安装方法和基本使用姿势。</p>\n</div><h2 id="an-zhuang" tabindex="-1">安装</h2>\n<div class="mi-doc-card"><h3 id="tong-guo-npm-an-zhuang" tabindex="-1">通过 npm 安装</h3>\n<p>在现有项目中使用 Miracle 时，可以通过 <code>npm</code> 进行安装：</p>\n<pre><code class="language-bash"><span class="hljs-comment"># Vue 3 项目，安装最新版 Miracle</span>\nnpm i @miracle-web/ui\n</code></pre>\n<p>当然，你也可以通过 <code>yarn</code>、<code>pnpm</code> 或 <code>bun</code> 进行安装：</p>\n<pre><code class="language-bash"><span class="hljs-comment"># 通过 yarn 安装</span>\nyarn add @miracle-web/ui\n\n<span class="hljs-comment"># 通过 pnpm 安装</span>\npnpm add @miracle-web/ui\n\n<span class="hljs-comment"># 通过 Bun 安装</span>\nbun add @miracle-web/ui\n</code></pre>\n</div><div class="mi-doc-card"><h3 id="tong-guo-cdn-an-zhuang" tabindex="-1">通过 CDN 安装</h3>\n<p>如果你只需要开发一个简单的 HTML 页面，那么可以直接在 HTML 文件中引入 CDN 链接，之后你可以通过全局变量 <code>miracle</code> 访问到所有组件。</p>\n<pre><code class="language-html"><span class="hljs-comment">&lt;!-- 引入样式文件 --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">link</span>\n    <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span>\n    <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://fastly.jsdelivr.net/npm/@miracle-web/ui/lib/index.css&quot;</span>\n/&gt;</span>\n\n<span class="hljs-comment">&lt;!-- 引入 Vue 和 Miracle 的 JS 文件 --&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://fastly.jsdelivr.net/npm/vue@3&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://fastly.jsdelivr.net/npm/@miracle-web/ui/lib/miracle.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n\n<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">\n    <span class="hljs-comment">// 在 #app 标签下渲染一个按钮组件</span>\n    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>({\n        <span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;mi-button&gt;按钮&lt;/mi-button&gt;`</span>,\n    });\n    app.<span class="hljs-title function_">use</span>(miracle);\n\n    <span class="hljs-comment">// 通过 CDN 引入时不会自动注册 Lazyload 组件</span>\n    <span class="hljs-comment">// 可以通过下面的方式手动注册</span>\n    app.<span class="hljs-title function_">use</span>(miracle.<span class="hljs-property">Lazyload</span>);\n\n    <span class="hljs-comment">// 调用工具函数，弹出一个 Toast</span>\n    miracle.<span class="hljs-title function_">showToast</span>(<span class="hljs-string">&#x27;提示&#x27;</span>);\n\n    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>);\n</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>\n</code></pre>\n<h4 id="mian-fei-cdn" tabindex="-1">免费 CDN</h4>\n<p>你可以通过以下免费 CDN 服务来使用 Miracle:</p>\n<ul>\n<li><a href="https://www.jsdelivr.com/package/npm/@miracle-web/ui" target="_blank">jsdelivr</a></li>\n<li><a href="https://cdnjs.com/libraries/@miracle-web/ui" target="_blank">cdnjs</a></li>\n<li><a href="https://unpkg.com/" target="_blank">unpkg</a></li>\n</ul>\n<p>注意：免费 CDN 一般用于制作原型或个人小型项目，不推荐在企业生产环境中使用免费 CDN。</p>\n<p>对于企业开发者，建议使用以下方式：</p>\n<ul>\n<li>通过 npm 引入，并通过构建工具进行打包</li>\n<li>下载对应文件，并托管在你自己的服务器或 CDN 上</li>\n</ul>\n</div><h2 id="yin-ru-zu-jian" tabindex="-1">引入组件</h2>\n<div class="mi-doc-card"><h3 id="fang-fa-yi.-chang-gui-yong-fa" tabindex="-1">方法一. 常规用法</h3>\n<p>下面是使用 Miracle 组件的用法示例：</p>\n<pre><code class="language-js"><span class="hljs-keyword">import</span> { createApp } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;\n<span class="hljs-comment">// 1. 引入你需要的组件</span>\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">Button</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@miracle-web/ui&#x27;</span>;\n<span class="hljs-comment">// 2. 引入组件样式</span>\n<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@miracle-web/ui/lib/index.css&#x27;</span>;\n\n<span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>();\n\n<span class="hljs-comment">// 3. 注册你需要的组件</span>\napp.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Button</span>);\n</code></pre>\n<p>Miracle 支持多种组件注册方式，除了在 app 上全局注册组件，你也可以选择其他的方式，比如局部注册，详见 <a href="#/zh-CN/advanced-usage#zu-jian-zhu-ce" target="_blank">组件注册</a> 章节。</p>\n<blockquote>\n<p>Miracle 默认支持 Tree Shaking，因此你不需要配置任何插件，通过 Tree Shaking 即可移除不需要的 JS 代码，但 CSS 样式无法通过这种方式优化，如果需要按需引入 CSS 样式，请参考下面的方法二。</p>\n</blockquote>\n</div><div class="mi-doc-card"><h3 id="fang-fa-er.-an-xu-yin-ru-zu-jian-yang-shi" tabindex="-1">方法二. 按需引入组件样式</h3>\n<p>在基于 Rsbuild、Vite、webpack 或 vue-cli 的项目中使用 Miracle 时，可以使用 <a href="https://github.com/unplugin/unplugin-vue-components" target="_blank">unplugin-vue-components</a> 插件，它可以自动引入组件。</p>\n<p>Miracle 官方基于 <code>unplugin-vue-components</code> 提供了自动导入样式的解析器 <a href="" target="_blank">@miracle-web/auto-import-resolver</a>，两者可以配合使用。</p>\n<p>相比于常规用法，这种方式可以按需引入组件的 CSS 样式，从而减少一部分代码体积，但使用起来会变得繁琐一些。如果业务对 CSS 的体积要求不是特别极致，我们推荐使用更简便的常规用法。</p>\n<h4 id="1.-an-zhuang-cha-jian" tabindex="-1">1. 安装插件</h4>\n<pre><code class="language-bash"><span class="hljs-comment"># 通过 npm 安装</span>\nnpm i @miracle-web/auto-import-resolver unplugin-vue-components -D\n\n<span class="hljs-comment"># 通过 yarn 安装</span>\nyarn add @miracle-web/auto-import-resolver unplugin-vue-components -D\n\n<span class="hljs-comment"># 通过 pnpm 安装</span>\npnpm add @miracle-web/auto-import-resolver unplugin-vue-components -D\n\n<span class="hljs-comment"># 通过 bun 安装</span>\nbun add @miracle-web/auto-import-resolver unplugin-vue-components -D\n</code></pre>\n<h4 id="2.-pei-zhi-cha-jian" tabindex="-1">2. 配置插件</h4>\n<p>如果是基于 Vite 的项目，在 <code>vite.config.js</code> 文件中配置插件：</p>\n<pre><code class="language-js"><span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vitejs/plugin-vue&#x27;</span>;\n<span class="hljs-keyword">import</span> <span class="hljs-title class_">Components</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;unplugin-vue-components/vite&#x27;</span>;\n<span class="hljs-keyword">import</span> { <span class="hljs-title class_">MiracleResolver</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@miracle-web/auto-import-resolver&#x27;</span>;\n\n<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {\n    <span class="hljs-attr">plugins</span>: [\n        <span class="hljs-title function_">vue</span>(),\n        <span class="hljs-title class_">Components</span>({\n            <span class="hljs-attr">resolvers</span>: [<span class="hljs-title class_">MiracleResolver</span>()],\n        }),\n    ],\n};\n</code></pre>\n<p>如果是基于 vue-cli 的项目，在 <code>vue.config.js</code> 文件中配置插件：</p>\n<pre><code class="language-js"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">MiracleResolver</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@miracle-web/auto-import-resolver&#x27;</span>);\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">ComponentsPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;unplugin-vue-components/webpack&#x27;</span>);\n\n<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n    <span class="hljs-attr">configureWebpack</span>: {\n        <span class="hljs-attr">plugins</span>: [\n            <span class="hljs-comment">// 当 unplugin-vue-components 版本小于 0.26.0 时，使用以下写法</span>\n            <span class="hljs-title class_">ComponentsPlugin</span>({ <span class="hljs-attr">resolvers</span>: [<span class="hljs-title class_">MiracleResolver</span>()] }),\n            <span class="hljs-comment">//当 unplugin-vue-components 版本大于等于 0.26.0 时，使用以下写法</span>\n            <span class="hljs-title class_">ComponentsPlugin</span>.<span class="hljs-title function_">default</span>({ <span class="hljs-attr">resolvers</span>: [<span class="hljs-title class_">MiracleResolver</span>()] }),\n        ],\n    },\n};\n</code></pre>\n<p>如果是基于 webpack 的项目，在 <code>webpack.config.js</code> 文件中配置插件：</p>\n<pre><code class="language-js"><span class="hljs-keyword">const</span> { <span class="hljs-title class_">MiracleResolver</span> } = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;@miracle-web/auto-import-resolver&#x27;</span>);\n<span class="hljs-keyword">const</span> <span class="hljs-title class_">ComponentsPlugin</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;unplugin-vue-components/webpack&#x27;</span>);\n\n<span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = {\n    <span class="hljs-attr">plugins</span>: [\n        <span class="hljs-comment">// 当 unplugin-vue-components 版本小于 0.26.0 时，使用以下写法</span>\n        <span class="hljs-title class_">ComponentsPlugin</span>({ <span class="hljs-attr">resolvers</span>: [<span class="hljs-title class_">MiracleResolver</span>()] }),\n        <span class="hljs-comment">//当 unplugin-vue-components 版本大于等于 0.26.0 时，使用以下写法</span>\n        <span class="hljs-title class_">ComponentsPlugin</span>.<span class="hljs-title function_">default</span>({ <span class="hljs-attr">resolvers</span>: [<span class="hljs-title class_">MiracleResolver</span>()] }),\n    ],\n};\n</code></pre>\n<h4 id="3.-shi-yong-zu-jian" tabindex="-1">3. 使用组件</h4>\n<p>完成以上两步，就可以直接在模板中使用 Miracle 组件了，<code>unplugin-vue-components</code> 会解析模板并自动注册对应的组件, <code>@miracle-web/auto-import-resolver</code> 会自动引入对应的组件样式。</p>\n<pre><code class="language-html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>\n    <span class="hljs-tag">&lt;<span class="hljs-name">mi-button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> /&gt;</span>\n<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>\n</code></pre>\n<h4 id="4.-yin-ru-han-shu-zu-jian-de-yang-shi" tabindex="-1">4. 引入函数组件的样式</h4>\n<p>Miracle 中有个别组件是以函数的形式提供的，包括 <code>Toast</code>，<code>Dialog</code>，<code>Notify</code> 和 <code>ImagePreview</code> 组件。在使用函数组件时，<code>unplugin-vue-components</code> 无法解析自动注册组件，导致 <code>@miracle-web/auto-import-resolver</code> 无法解析样式，因此需要手动引入样式。</p>\n<pre><code class="language-js"><span class="hljs-comment">// Toast</span>\n<span class="hljs-keyword">import</span> { showToast } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@miracle-web/ui&#x27;</span>;\n<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@miracle-web/ui/es/toast/style&#x27;</span>;\n\n<span class="hljs-comment">// Dialog</span>\n<span class="hljs-keyword">import</span> { showDialog } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@miracle-web/ui&#x27;</span>;\n<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@miracle-web/ui/es/dialog/style&#x27;</span>;\n\n<span class="hljs-comment">// Notify</span>\n<span class="hljs-keyword">import</span> { showNotify } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@miracle-web/ui&#x27;</span>;\n<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@miracle-web/ui/es/notify/style&#x27;</span>;\n\n<span class="hljs-comment">// ImagePreview</span>\n<span class="hljs-keyword">import</span> { showImagePreview } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@miracle-web/ui&#x27;</span>;\n<span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@miracle-web/ui/es/image-preview/style&#x27;</span>;\n</code></pre>\n<p>你可以在项目的入口文件或公共模块中引入以上组件的样式，这样在业务代码中使用组件时，便不再需要重复引入样式了。</p>\n<h4 id="shi-yong-ti-shi" tabindex="-1">使用提示</h4>\n<ul>\n<li>请避免同时使用「全量引入」和「按需引入」这两种引入方式，否则会导致代码重复、样式错乱等问题。</li>\n<li>在使用过程中，如果你遇到组件不能导入的问题，因为 unplugin-vue-components 并不是 Miracle 官方维护的插件，所以建议到 <a href="https://github.com/unplugin/unplugin-vue-components" target="_blank">unplugin/unplugin-vue-components</a> 仓库下反馈。</li>\n<li>当 <code>unplugin-vue-components</code> 的版本号 &gt;= 0.26.0 时，对于 <code>webpack</code>、<code>vue-cli</code> 和 <code>rspack</code>，你需要使用 <code>ComponentsPlugin.default</code> 进行注册。</li>\n<li><code>@miracle-web/auto-import-resolver</code> 提供了一些配置项，请参考 <a href="" target="_blank">README 文档</a> 来了解更多。</li>\n<li>如果是样式不生效的相关问题，你可以在 Miracle 仓库下反馈。</li>\n</ul>\n</div><h2 id="qian-yi-ti-shi" tabindex="-1">迁移提示</h2>\n<div class="mi-doc-card"><h3 id="yi-chu-babel-plugin-import" tabindex="-1">移除 babel-plugin-import</h3>\n<p>Miracle不支持 <code>babel-plugin-import</code>，请移除项目中依赖的 <code>babel-plugin-import</code> 插件。</p>\n<p>只需要删除 <code>babel.config.js</code> 中的以下代码即可：</p>\n<pre><code class="language-diff">module.exports = {\n  plugins: [\n<span class="hljs-deletion">-    [&#x27;import&#x27;, {</span>\n<span class="hljs-deletion">-      libraryName: &#x27;miracle&#x27;,</span>\n<span class="hljs-deletion">-      libraryDirectory: &#x27;es&#x27;,</span>\n<span class="hljs-deletion">-      style: true</span>\n<span class="hljs-deletion">-    }, &#x27;miracle&#x27;]</span>\n  ]\n};\n</code></pre>\n<h4 id="shou-yi" tabindex="-1">收益</h4>\n<p>移除 <code>babel-plugin-import</code> 有以下收益：</p>\n<ul>\n<li>不再强依赖 babel，项目可以使用 esbuild、swc 等更高效的编译工具，大幅度提升编译效率。</li>\n<li>不再受到 <code>babel-plugin-import</code> 的 import 写法限制，可以从 miracle 中导入除了组件以外的其他内容，比如 Miracle 中新增的 <code>showToast</code> 等方法。</li>\n</ul>\n<pre><code class="language-ts"><span class="hljs-keyword">import</span> { showToast, showDialog } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@miracle-web/ui&#x27;</span>;\n</code></pre>\n</div>'},null,8,e))}}}]);