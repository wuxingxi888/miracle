"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["8513"],{6718:function(e,t,a){a.r(t),a.d(t,{default:()=>C});var l=a("1147"),i=a("7513"),o=a("3575"),n=a("3462"),r=a("6797"),u=a("6063"),c=a("1182"),v=a("8978"),s=a("6147"),[d,f,g]=(0,o.do)("signature"),p={tips:String,type:(0,n.SQ)("png"),penColor:(0,n.SQ)("#000"),lineWidth:(0,n.qM)(3),clearButtonText:String,backgroundColor:(0,n.SQ)(""),confirmButtonText:String},h=()=>{var e,t=document.createElement("canvas");return!!(null===(e=t.getContext)||void 0===e?void 0:e.call(t,"2d"))};let m=(0,l.aZ)({name:d,props:p,emits:["submit","clear","start","end","signing"],setup(e,t){var a,{emit:i}=t,o=(0,l.iH)(),n=(0,l.iH)(),d=(0,l.Fl)(()=>o.value?o.value.getContext("2d"):null),p=!r._f||h(),m=0,S=0,w=()=>{if(!d.value)return!1;d.value.beginPath(),d.value.lineWidth=e.lineWidth,d.value.strokeStyle=e.penColor,a=(0,c.EL)(o),i("start")},b=e=>{if(!d.value)return!1;(0,u.PF)(e);var t=e.touches[0],l=t.clientX-((null==a?void 0:a.left)||0),o=t.clientY-((null==a?void 0:a.top)||0);d.value.lineCap="round",d.value.lineJoin="round",d.value.lineTo(l,o),d.value.stroke(),i("signing",e)},y=e=>{(0,u.PF)(e),i("end")},C=t=>{var a=document.createElement("canvas");return a.width=t.width,a.height=t.height,e.backgroundColor&&k(a.getContext("2d")),t.toDataURL()===a.toDataURL()},k=t=>{t&&e.backgroundColor&&(t.fillStyle=e.backgroundColor,t.fillRect(0,0,m,S))},W=()=>{var t,a,l=o.value;if(!!l)i("submit",{image:C(l)?"":(null===(t=(a={jpg:()=>l.toDataURL("image/jpeg",.8),jpeg:()=>l.toDataURL("image/jpeg",.8)})[e.type])||void 0===t?void 0:t.call(a))||l.toDataURL("image/".concat(e.type)),canvas:l})},x=()=>{d.value&&(d.value.clearRect(0,0,m,S),d.value.closePath(),k(d.value)),i("clear")},P=()=>{if(p&&o.value){var e,t,a,l=o.value,i=r._f?window.devicePixelRatio:1;m=l.width=((null===(e=n.value)||void 0===e?void 0:e.offsetWidth)||0)*i,S=l.height=((null===(t=n.value)||void 0===t?void 0:t.offsetHeight)||0)*i,null===(a=d.value)||void 0===a||a.scale(i,i),k(d.value)}},O=()=>{if(d.value){var e=d.value.getImageData(0,0,m,S);P(),d.value.putImageData(e,0,0)}};return(0,l.YP)(u.bn,O),(0,l.bv)(P),(0,v.F)({resize:O,clear:x,submit:W}),()=>(0,l.Wm)("div",{class:f()},[(0,l.Wm)("div",{class:f("content"),ref:n},[p?(0,l.Wm)("canvas",{ref:o,onTouchstartPassive:w,onTouchmove:b,onTouchend:y},null):(0,l.Wm)("p",null,[e.tips])]),(0,l.Wm)("div",{class:f("footer")},[(0,l.Wm)(s.zx,{size:"small",onClick:x},{default:()=>[e.clearButtonText||g("clear")]}),(0,l.Wm)(s.zx,{type:"primary",size:"small",onClick:W},{default:()=>[e.confirmButtonText||g("confirm")]})])])}});var S=(0,i.n)(m),w=a("8862"),b=a("4489"),y=a("3253");let C={__name:"index",setup(e){let t=(0,b.q)({"zh-CN":{penColor:"自定义颜色",lineWidth:"自定义线宽",backgroundColor:"自定义背景颜色"},"en-US":{penColor:"Pen Color",lineWidth:"Line Width",backgroundColor:"Background Color"}}),a=(0,l.iH)(""),i=e=>{a.value=e.image},o=()=>(0,y.CF)("clear");return(e,n)=>{let r=(0,l.up)("demo-block");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r,{title:(0,l.SU)(t)("basicUsage")},{default:(0,l.w5)(()=>[(0,l.Wm)((0,l.SU)(S),{onSubmit:i,onClear:o})]),_:1},8,["title"]),a.value?((0,l.wg)(),(0,l.j4)((0,l.SU)(w.ZP),{key:0,src:a.value},null,8,["src"])):(0,l.kq)("",!0),(0,l.Wm)(r,{title:(0,l.SU)(t)("penColor")},{default:(0,l.w5)(()=>[(0,l.Wm)((0,l.SU)(S),{"pen-color":"#ff0000",onClear:o,onSubmit:i})]),_:1},8,["title"]),(0,l.Wm)(r,{title:(0,l.SU)(t)("lineWidth")},{default:(0,l.w5)(()=>[(0,l.Wm)((0,l.SU)(S),{"line-width":6,onClear:o,onSubmit:i})]),_:1},8,["title"]),(0,l.Wm)(r,{title:(0,l.SU)(t)("backgroundColor")},{default:(0,l.w5)(()=>[(0,l.Wm)((0,l.SU)(S),{"background-color":"#eee",onClear:o,onSubmit:i})]),_:1},8,["title"])],64)}}}},6147:function(e,t,a){a.d(t,{zx:()=>m,ZP:()=>S});var l=a("7513"),i=a("1147"),o=a("3575"),n=a("6797"),r=a("3462"),u=a("6063"),c=a("9109"),v=a("1626"),s=a("2402"),d=a("1726"),[f,g]=(0,o.do)("button"),p=(0,n.l7)({},v.g2,{tag:(0,r.SQ)("button"),text:String,icon:String,type:(0,r.SQ)("default"),size:(0,r.SQ)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,r.SQ)("button"),loadingSize:r.Or,loadingText:String,loadingType:String,iconPosition:(0,r.SQ)("left")});let h=(0,i.aZ)({name:f,props:p,emits:["click"],setup(e,t){var{emit:a,slots:l}=t,o=(0,v.yj)(),n=()=>l.loading?l.loading():(0,i.Wm)(d.gb,{size:e.loadingSize,type:e.loadingType,class:g("loading")},null),r=()=>e.loading?n():l.icon?(0,i.Wm)("div",{class:g("icon")},[l.icon()]):e.icon?(0,i.Wm)(s.JO,{name:e.icon,class:g("icon"),classPrefix:e.iconPrefix},null):void 0,f=()=>{var t;if(t=e.loading?e.loadingText:l.default?l.default():e.text)return(0,i.Wm)("span",{class:g("text")},[t])},p=()=>{var{color:t,plain:a}=e;if(t){var l={color:a?t:"white"};return!a&&(l.background=t),t.includes("gradient")?l.border=0:l.borderColor=t,l}},h=t=>{e.loading?(0,u.PF)(t):!e.disabled&&(a("click",t),o())};return()=>{var{tag:t,type:a,size:l,block:o,round:n,plain:u,square:v,loading:s,disabled:d,hairline:m,nativeType:S,iconPosition:w}=e,b=[g([a,l,{plain:u,block:o,round:n,square:v,loading:s,disabled:d,hairline:m}]),{[c._K]:m}];return(0,i.Wm)(t,{type:S,class:b,style:p(),disabled:d,onClick:h},{default:()=>[(0,i.Wm)("div",{class:g("content")},["left"===w&&r(),f(),"right"===w&&r()])]})}}});var m=(0,l.n)(h);let S=m},1626:function(e,t,a){a.d(t,{BC:function(){return o},g2:function(){return i},yj:function(){return n}});var l=a(1147),i={to:[String,Object],url:String,replace:Boolean};function o(e){var{to:t,url:a,replace:l,$router:i}=e;t&&i?i[l?"replace":"push"](t):a&&(l?location.replace(a):location.href=a)}function n(){var e=(0,l.FN)().proxy;return()=>o(e)}},3326:function(e,t,a){a.d(t,{j:()=>d,Z:()=>f});var l=a("7513"),i=a("1147"),o=a("3575"),n=a("112"),r=a("1182"),u=a("8978"),[c,v]=(0,o.do)("swipe-item");let s=(0,i.aZ)({name:c,setup(e,t){var a,{slots:l}=t,o=(0,i.qj)({offset:0,inited:!1,mounted:!1}),{parent:c,index:s}=(0,r.NB)(n.PG);if(!!c){var d=(0,i.Fl)(()=>{var e={},{vertical:t}=c.props;return c.size.value&&(e[t?"height":"width"]="".concat(c.size.value,"px")),o.offset&&(e.transform="translate".concat(t?"Y":"X","(").concat(o.offset,"px)")),e}),f=(0,i.Fl)(()=>{var{loop:e,lazyRender:t}=c.props;if(!t||a)return!0;if(!o.mounted)return!1;var l=c.activeIndicator.value,i=c.count.value-1;return a=s.value===l||s.value===(0===l&&e?i:l-1)||s.value===(l===i&&e?0:l+1)});return(0,i.bv)(()=>{(0,i.Y3)(()=>{o.mounted=!0})}),(0,u.F)({setOffset:e=>{o.offset=e}}),()=>{var e;return(0,i.Wm)("div",{class:v(),style:d.value},[f.value?null===(e=l.default)||void 0===e?void 0:e.call(l):null])}}}});var d=(0,l.n)(s);let f=d},2446:function(e,t,a){a.d(t,{ZP:function(){return n},oF:function(){return o}});var l=a(7513),i=a(112),o=(0,l.n)(i.ZP);let n=o},112:function(e,t,a){a.d(t,{PG:function(){return p},ZP:function(){return h}});var l=a(1147),i=a(3575),o=a(3462),n=a(9608),r=a(6063),u=a(1182),c=a(4486),v=a(8978),s=a(1158),[d,f]=(0,i.do)("swipe"),g={loop:o.J5,width:o.Or,height:o.Or,vertical:Boolean,autoplay:(0,o.SI)(0),duration:(0,o.SI)(500),touchable:o.J5,lazyRender:Boolean,initialSwipe:(0,o.SI)(0),indicatorColor:String,showIndicators:o.J5,stopPropagation:o.J5},p=Symbol(d);let h=(0,l.aZ)({name:d,props:g,emits:["change","dragStart","dragEnd"],setup(e,t){var a,i,{emit:o,slots:d}=t,g=(0,l.iH)(),h=(0,l.iH)(),m=(0,l.qj)({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),S=!1,w=(0,c.o)(),{children:b,linkChildren:y}=(0,u.$E)(p),C=(0,l.Fl)(()=>b.length),k=(0,l.Fl)(()=>m[e.vertical?"height":"width"]),W=(0,l.Fl)(()=>e.vertical?w.deltaY.value:w.deltaX.value),x=(0,l.Fl)(()=>m.rect?(e.vertical?m.rect.height:m.rect.width)-k.value*C.value:0),P=(0,l.Fl)(()=>k.value?Math.ceil(Math.abs(x.value)/k.value):C.value),O=(0,l.Fl)(()=>C.value*k.value),B=(0,l.Fl)(()=>(m.active+C.value)%C.value),F=(0,l.Fl)(()=>{var t=e.vertical?"vertical":"horizontal";return w.direction.value===t}),T=(0,l.Fl)(()=>{var t={transitionDuration:"".concat(m.swiping?0:e.duration,"ms"),transform:"translate".concat(e.vertical?"Y":"X","(").concat(+m.offset.toFixed(2),"px)")};if(k.value){var a=e.vertical?"height":"width",l=e.vertical?"width":"height";t[a]="".concat(O.value,"px"),t[l]=e[l]?"".concat(e[l],"px"):""}return t}),z=t=>{var{active:a}=m;if(t)return e.loop?(0,n.uZ)(a+t,-1,C.value):(0,n.uZ)(a+t,0,P.value);return a},U=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=t*k.value;!e.loop&&(l=Math.min(l,-x.value));var i=a-l;return!e.loop&&(i=(0,n.uZ)(i,x.value,0)),i},Y=t=>{var{pace:a=0,offset:l=0,emitChange:i}=t;if(!(C.value<=1)){var{active:n}=m,r=z(a),u=U(r,l);if(e.loop){if(b[0]&&u!==x.value){var c=u<x.value;b[0].setOffset(c?O.value:0)}if(b[C.value-1]&&0!==u){var v=u>0;b[C.value-1].setOffset(v?-O.value:0)}}m.active=r,m.offset=u,i&&r!==n&&o("change",B.value)}},Z=()=>{m.swiping=!0,m.active<=-1?Y({pace:C.value}):m.active>=C.value&&Y({pace:-C.value})},j=()=>{Z(),w.reset(),(0,u.d1)(()=>{m.swiping=!1,Y({pace:1,emitChange:!0})})},D=()=>clearTimeout(a),H=()=>{D(),+e.autoplay>0&&C.value>1&&(a=setTimeout(()=>{j(),H()},+e.autoplay))},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:+e.initialSwipe;if(!!g.value){var a=()=>{if(!(0,r.xj)(g)){var a,l,i={width:g.value.offsetWidth,height:g.value.offsetHeight};m.rect=i,m.width=+(null!==(a=e.width)&&void 0!==a?a:i.width),m.height=+(null!==(l=e.height)&&void 0!==l?l:i.height)}C.value&&-1===(t=Math.min(C.value-1,t))&&(t=C.value-1),m.active=t,m.swiping=!0,m.offset=U(t),b.forEach(e=>{e.setOffset(0)}),H()};(0,r.xj)(g)?(0,l.Y3)().then(a):a()}},L=()=>I(m.active),M=t=>{e.touchable&&!(t.touches.length>1)&&(w.start(t),S=!1,i=Date.now(),D(),Z())},Q=()=>{if(!!e.touchable&&!!m.swiping){var t=Date.now()-i;if((Math.abs(W.value/t)>.25||Math.abs(W.value)>k.value/2)&&F.value){var a=e.vertical?w.offsetY.value:w.offsetX.value,l=0;Y({pace:l=e.loop?a>0?W.value>0?-1:1:0:-Math[W.value>0?"ceil":"floor"](W.value/k.value),emitChange:!0})}else W.value&&Y({pace:0});S=!1,m.swiping=!1,o("dragEnd",{index:B.value}),H()}},R=(t,a)=>{var i=a===B.value,o=i?{backgroundColor:e.indicatorColor}:void 0;return(0,l.Wm)("i",{style:o,class:f("indicator",{active:i})},null)},_=()=>d.indicator?d.indicator({active:B.value,total:C.value}):e.showIndicators&&C.value>1?(0,l.Wm)("div",{class:f("indicators",{vertical:e.vertical})},[Array(C.value).fill("").map(R)]):void 0;return(0,v.F)({prev:()=>{Z(),w.reset(),(0,u.d1)(()=>{m.swiping=!1,Y({pace:-1,emitChange:!0})})},next:j,state:m,resize:L,swipeTo:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Z(),w.reset(),(0,u.d1)(()=>{var l;l=e.loop&&t===C.value?0===m.active?0:t:t%C.value,a.immediate?(0,u.d1)(()=>{m.swiping=!1}):m.swiping=!1,Y({pace:l-m.active,emitChange:!0})})}}),y({size:k,props:e,count:C,activeIndicator:B}),(0,l.YP)(()=>e.initialSwipe,e=>I(+e)),(0,l.YP)(C,()=>I(m.active)),(0,l.YP)(()=>e.autoplay,H),(0,l.YP)([r.bn,r.uK,()=>e.width,()=>e.height],L),(0,l.YP)((0,u.d9)(),e=>{"visible"===e?H():D()}),(0,l.bv)(I),(0,l.dl)(()=>I(m.active)),(0,s.h)(()=>I(m.active)),(0,l.se)(D),(0,l.Jd)(D),(0,u.OR)("touchmove",t=>{e.touchable&&m.swiping&&(w.move(t),F.value&&!(!e.loop&&(0===m.active&&W.value>0||m.active===C.value-1&&W.value<0))&&((0,r.PF)(t,e.stopPropagation),Y({offset:W.value}),!S&&(o("dragStart",{index:B.value}),S=!0)))},{target:h}),()=>{var t;return(0,l.Wm)("div",{ref:g,class:f()},[(0,l.Wm)("div",{ref:h,style:T.value,class:f("track",{vertical:e.vertical}),onTouchstartPassive:M,onTouchend:Q,onTouchcancel:Q},[null===(t=d.default)||void 0===t?void 0:t.call(d)]),_()])}}})},2346:function(e,t,a){a.d(t,{Z:()=>p});var l=a("1147"),i=a("3575"),o=a("3462"),n=a("6797"),r=0,u=a("2402"),c=a("449"),v=a("1726"),[s,d]=(0,i.do)("toast"),f=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],g={icon:String,show:Boolean,type:(0,o.SQ)("text"),overlay:Boolean,message:o.Or,iconSize:o.Or,duration:(0,o.qM)(2e3),position:(0,o.SQ)("middle"),teleport:[String,Object],wordBreak:String,className:o.Vg,iconPrefix:String,transition:(0,o.SQ)("mi-fade"),loadingType:String,forbidClick:Boolean,overlayClass:o.Vg,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:o.Or};let p=(0,l.aZ)({name:s,props:g,emits:["update:show"],setup(e,t){var a,{emit:i,slots:o}=t,s=!1,g=()=>{var t=e.show&&e.forbidClick;if(s!==t)(s=t)?(r||document.body.classList.add("mi-toast--unclickable"),r++):!r||--r||document.body.classList.remove("mi-toast--unclickable")},p=e=>i("update:show",e),h=()=>{e.closeOnClick&&p(!1)},m=()=>clearTimeout(a),S=()=>{var{icon:t,type:a,iconSize:i,iconPrefix:o,loadingType:n}=e;return t||"success"===a||"fail"===a?(0,l.Wm)(u.JO,{name:t||a,size:i,class:d("icon"),classPrefix:o},null):"loading"===a?(0,l.Wm)(v.gb,{class:d("loading"),size:i,type:n},null):void 0},w=()=>{var{type:t,message:a}=e;return o.message?(0,l.Wm)("div",{class:d("text")},[o.message()]):(0,n.Xq)(a)&&""!==a?"html"===t?(0,l.Wm)("div",{key:0,class:d("text"),innerHTML:String(a)},null):(0,l.Wm)("div",{class:d("text")},[a]):void 0};return(0,l.YP)(()=>[e.show,e.forbidClick],g),(0,l.YP)(()=>[e.show,e.type,e.message,e.duration],()=>{m(),e.show&&e.duration>0&&(a=setTimeout(()=>{p(!1)},e.duration))}),(0,l.bv)(g),(0,l.SK)(g),()=>(0,l.Wm)(c.GI,(0,l.dG)({class:[d([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:h,onClosed:m,"onUpdate:show":p},(0,n.ei)(e,f)),{default:()=>[S(),w()]})}})},3253:function(e,t,a){a.d(t,{CF:function(){return s},LJ:function(){return p},XA:function(){return g},di:function(){return f},yg:function(){return h}});var l=a(1147),i=a(6797),o=a(8533),n=a(2346),r=[],u=(0,i.l7)({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"mi-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1}),c=new Map;function v(e){return(0,i.Kn)(e)?e:{message:e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i._f)return{};var t=function(){if(!r.length){var e=function(){var{instance:e,unmount:t}=(0,o.H)({setup(){var e=(0,l.iH)(""),{open:t,state:a,close:i,toggle:r}=(0,o.o)(),u=()=>{};return(0,l.YP)(e,e=>{a.message=e}),(0,l.FN)().render=()=>(0,l.Wm)(n.Z,(0,l.dG)(a,{onClosed:u,"onUpdate:show":r}),null),{open:t,close:i,message:e}}});return e}();r.push(e)}return r[r.length-1]}(),a=v(e);return t.open((0,i.l7)({},u,c.get(a.type||u.type),a)),t}var d=e=>t=>s((0,i.l7)({type:e},v(t))),f=d("loading"),g=d("success"),p=d("fail"),h=e=>{if(r.length){if(e)r.forEach(e=>{e.close()}),r=[];else{var t;r[0].close()}}}}}]);